{"ast":null,"code":"var _jsxFileName = \"/home/jhernandez/Documentos/Universidad/programacion-II/nuevocarro/carroCompras/front/carro-compras/src/components/Cart.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useReducer } from \"react\";\nimport { TYPES } from \"../actions/carroActions\";\nimport { shoppingInitialState, carroReducer } from \"../reducers/carroReducer\";\nimport CarroItems from './CarroItems';\nimport ProductoItem from './ProductoItem';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cart = () => {\n  _s();\n\n  const [contenido, setcontenido] = useState([]);\n\n  const productos = async () => {\n    const token = window.sessionStorage.getItem(\"token_product\");\n    const response = await fetch('http://localhost:8080/api/products?enabled=true', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      credentials: 'include'\n    });\n    const content = await response.json();\n    console.log(content);\n    setcontenido(content);\n  };\n\n  useEffect(() => {\n    productos();\n  }, []);\n  const [state, dispatch] = useReducer(carroReducer, shoppingInitialState);\n  const {\n    products,\n    cart\n  } = state;\n\n  const addToCart = id => {\n    dispatch({\n      type: TYPES.ADD_TO_CART,\n      payload: id\n    });\n  };\n\n  const delFromCart = function (id) {\n    let all = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (all) {\n      dispatch({\n        type: TYPES.REMOVE_ALL_FROM_CART,\n        payload: id\n      });\n    } else {\n      dispatch({\n        type: TYPES.REMOVE_ONE_FROM_CART,\n        payload: id\n      });\n    }\n  };\n\n  const clearCart = () => {\n    dispatch({\n      type: TYPES.CLEAR_CART\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Carrito de Compras\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Productos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"box grid-responsive\",\n      children: products.map(product => /*#__PURE__*/_jsxDEV(ProductoItem, {\n        data: product,\n        addToCart: addToCart\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Carrito\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearCart,\n        children: \"Limpiar Carrito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), cart.map((item, index) => /*#__PURE__*/_jsxDEV(CarroItems, {\n        data: item,\n        delFromCart: delFromCart\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Cart, \"H1eFNuXe6JOo69ieklG5Ci5pZds=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/home/jhernandez/Documentos/Universidad/programacion-II/nuevocarro/carroCompras/front/carro-compras/src/components/Cart.js"],"names":["React","useReducer","TYPES","shoppingInitialState","carroReducer","CarroItems","ProductoItem","useState","useEffect","Cart","contenido","setcontenido","productos","token","window","sessionStorage","getItem","response","fetch","method","headers","credentials","content","json","console","log","state","dispatch","products","cart","addToCart","id","type","ADD_TO_CART","payload","delFromCart","all","REMOVE_ALL_FROM_CART","REMOVE_ONE_FROM_CART","clearCart","CLEAR_CART","map","product","item","index"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useReducer } from \"react\";\nimport { TYPES } from \"../actions/carroActions\";\nimport {\n    shoppingInitialState,\n    carroReducer,\n} from \"../reducers/carroReducer\";\nimport CarroItems from './CarroItems';\nimport ProductoItem from './ProductoItem';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\n\nconst Cart = () => {\n\n  const [contenido, setcontenido] = useState([])\n  const productos = async () =>{\n      const token = window.sessionStorage.getItem(\"token_product\")\n      const response = await fetch('http://localhost:8080/api/products?enabled=true', {\n              method: 'GET',\n              headers: {'Content-Type': 'application/json', 'Authorization': `Bearer ${token}`},\n              credentials: 'include',\n              });\n      const content = await response.json();\n      console.log(content)\n      setcontenido(content)\n\n  }\n\n  useEffect(() => {\n    productos()\n}, [])\n\n  const [state, dispatch] = useReducer(carroReducer, shoppingInitialState);\n\n  const { products, cart } = state;\n\n  const addToCart = (id) => {\n    dispatch({ type: TYPES.ADD_TO_CART, payload: id });\n  };\n\n  const delFromCart = (id, all = false) => {\n    if (all) {\n      dispatch({ type: TYPES.REMOVE_ALL_FROM_CART, payload: id });\n    } else {\n      dispatch({ type: TYPES.REMOVE_ONE_FROM_CART, payload: id });\n    }\n  };\n\n  const clearCart = () => {\n    dispatch({ type: TYPES.CLEAR_CART });\n  };\n\n  return (\n    <div>\n      <h2>Carrito de Compras</h2>\n      <h3>Productos</h3>\n      <article className=\"box grid-responsive\">\n        {products.map((product) => (\n          <ProductoItem key={product.id} data={product} addToCart={addToCart} />\n        ))}\n      </article>\n      <h3>Carrito</h3>\n      <article className=\"box\">\n        <button onClick={clearCart}>Limpiar Carrito</button>\n        {cart.map((item, index) => (\n          <CarroItems key={index} data={item} delFromCart={delFromCart} />\n        ))}\n      </article>\n    </div>\n  );\n};\n\nexport default Cart"]},"metadata":{},"sourceType":"module"}